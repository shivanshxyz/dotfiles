!function(e){var t={};function __webpack_require__(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,o){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(__webpack_require__.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(o,r,function(t){return e[t]}.bind(null,r));return o},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=6)}([function(e,t,o){"use strict";var r=class PBStorageInstance{constructor(e,t){this.key=e,this.storage=t}get(){const e=this;return new Promise(t=>{e.storage.get(e.key,o=>{o=o[e.key],e.lastAnswer=o,t(o)})})}set(e){const t=this;return new Promise(o=>{const r={};r[t.key]=e,t.storage.set(r,o)})}setIfNew(e){const t=this;return new Promise(o=>{t.get().then(r=>{r==e?o():t.set(e).then(o)})})}update(e){if("function"!=typeof e)throw new Error("Illegal invocation. Function expected.");const t=this;return new Promise(o=>{t.get().then(r=>{const n=e(r);t.setIfNew(n).then(o)})})}removeAndSet(e){const t=this;return new Promise(o=>{t.storage.remove(t.key,()=>{t.set(e).then((function(){o()}))})})}};class PBCombinedStorage_PBCombinedStorage{static COMBINE_MAP(e,t){const o={};return e.forEach((e,r)=>{o[t[r].key]=e}),o}static COMBINE_MERGE(e,t){let o=[];return e.forEach(e=>{e instanceof Array?o=o.concat(e):o.push(e)}),o}constructor(){this.storages=[],this.setStorages(arguments)}getStoragesMapped(){const e={};for(const t of this.storages)e[t.key]=t;return e}setStorages(e){for(let t=0;t<e.length;t++){const o=e[t];if(!(o instanceof r||o instanceof PBCombinedStorage_PBCombinedStorage))throw new Error(`Illegal invocation. PBStorageInstance expected at [${t}].`);this.storages.push(o)}}combine(e,t){}get(){const e=this,t=this.storages,o=[];for(let e=0;e<t.length;e++)o.push(t[e].get());return new Promise(r=>{Promise.all(o).then(o=>{r(e.combine(o,t))})})}}var n=PBCombinedStorage_PBCombinedStorage;var a=class PBCombinedMappedStorage_PBCombinedMappedStorage extends n{constructor(){super(),this.setStorages(arguments),this.combine=n.COMBINE_MAP,this.storages=[],this.parentStorage=null}setParentStorage(e){return this.parentStorage=e,this}set(e){const t=this;return new Promise(o=>{t.parentStorage.set(e,o)})}update(e){const t=this;return new Promise(o=>{t.get().then(r=>{r=e(r),t.set(r).then(o)})})}};const i=new class PBStorageSync_PBStorage{constructor(e,t){this.storage=t,this.pb_defaultWhitelist=this.createStorage("pb_defaultWhitelist"),this.pb_whitelistManager=this.createStorage("pb_whitelistManager"),this.pb_detectOverlays=this.createStorage("pb_detectOverlays"),this.pb_hideBadge=this.createStorage("pb_hideBadge"),this.pb_hideNotifications=this.createStorage("pb_hideNotifications"),this.pb_installDate=this.createStorage("pb_installDate"),this.pb_overlaylist=this.createStorage("pb_overlaylist"),this.pb_numOfBlocks=this.createStorage("pb_numOfBlocks"),this.pb_totalBlocksByType=this.createStorage("pb_totalBlocksByType"),this.pb_tabswithoverlay=this.createStorage("pb_tabswithoverlay"),this.pb_whitelist=this.createStorage("pb_whitelist"),this.pb_counterBlockedSites=this.createStorage("pb_counterBlockedSites"),this.pb_pause=this.createStorage("pb_pause"),this.pb_siteWhenReport=this.createStorage("pb_siteWhenReport"),this.pb_notFirstTimeToggle=this.createStorage("pb_notFirstTimeToggle"),this.pb_popupBlackList=this.createStorage("pb_popupBlackList"),this.pb_disableContextMenu=this.createStorage("pb_disableContextMenu"),this.pb_retentionData=this.createStorage("pb_retentionData"),this.doNotShowNotifyList=this.createStorage("doNotShowNotifyList"),this.pb_overlayBlockedList=this.createStorage("pb_overlayBlockedList"),this.pb_lastNotificationDisplay=this.createStorage("pb_lastNotificationDisplay"),this.pb_notification_size=this.createStorage("pb_notification_size"),this.pb_rating=this.createStorage("pb_rating"),this.pb_OneTimeEvents=this.createStorage("pb_OneTimeEvents"),this.all=this.many(this.pb_whitelist,this.pb_whitelistManager,this.pb_detectOverlays,this.pb_hideBadge,this.pb_hideNotifications,this.pb_installDate,this.pb_overlaylist,this.pb_numOfBlocks,this.pb_tabswithoverlay,this.pb_counterBlockedSites,this.pb_popupBlackList,this.pb_disableContextMenu,this.pb_retentionData,this.pb_pause,this.doNotShowNotifyList,this.pb_overlayBlockedList,this.pb_rating,this.pb_OneTimeEvents)}createStorage(e){return new r(e,this.storage)}many(){const e=new a;return e.setParentStorage(this.storage),e.setStorages(arguments),e}}(chrome.storage,chrome.storage.local);t.a=i},function(e,t,o){"use strict";o.d(t,"i",(function(){return getPrivacyPolicy})),o.d(t,"j",(function(){return getTabUrl})),o.d(t,"d",(function(){return executeCode})),o.d(t,"l",(function(){return isDomainInList})),o.d(t,"o",(function(){return randId})),o.d(t,"a",(function(){return GUID})),o.d(t,"h",(function(){return getManifestInfo})),o.d(t,"b",(function(){return Retension})),o.d(t,"k",(function(){return getTodayBlockCount})),o.d(t,"c",(function(){return copyTextToClipboard})),o.d(t,"f",(function(){return getBrowser})),o.d(t,"e",(function(){return getAbsoluteURL})),o.d(t,"n",(function(){return isI18N})),o.d(t,"g",(function(){return getI18N})),o.d(t,"p",(function(){return sendToActiveTab})),o.d(t,"m",(function(){return isFireFoxIncognito}));var r=o(2);function getPrivacyPolicy(e=null){const t=r.a["privacy_policy_"+getBrowser()];return e?e.replace(/%s/,t):t}function getTabUrl(){return new Promise(e=>{chrome.runtime.sendMessage({name:"requestTabUrl"},(function(t){try{let o=new URL(t.url);e({domain:o.hostname,href:o.href})}catch(t){e({domain:document.domain,href:location.href})}}))})}function executeCode(e){let t=document.createElement("script");t.textContent=e,insertBeforeRoot(t),t.remove()}function isDomainInList(e,t,o){t=t||[];for(var r=0;r<t.length;r++){var n=t[r];if(new RegExp("\\b[(www\\.)|.*.]?"+n+"\\b").test(e))return!o||n}return!1}function randId(){var e=localStorage.getItem("randid");if(!e){var rr=function(){return(65536*(1+Math.random(Date.now()+14))|0).toString(28).substring(1)};e=rr()+rr()+rr()+rr()+rr()+rr()+rr()+rr()+rr(),localStorage.setItem("randid",e)}return e}function GUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function getManifestInfo(){return chrome.runtime.getManifest()}class Retension{constructor(e){this.Storage=e.Storage,this.GAEvents=e.GAEvents,this.minHoursFromInstall=8,this.Storage.requestGet().then(e=>{this.data=this.initialize(e),this.report()})}initialize(e){return e&&e.installDate&&e.sentDays||((e=e||{}).installDate=e.installDate?e.installDate:(()=>(this.GAEvents.Install(),Date.now()))(),e.sentDays=e.sentDays||{},this.Storage.requestSet(e)),e}report(){this.reportRetentoin(),setTimeout(this.report.bind(this),36e5)}reportRetentoin(){let e=new Date,t=new Date(this.data.installDate),o=this.getDateStart(t),r=this.getDateStart(e),n=Math.abs(r-o),a=Math.floor((e-t)/36e5),i=Math.floor(n/864e5);i>0&&!this.data.sentDays[i]&&a>this.minHoursFromInstall&&(this.GAEvents.Retentoin(i),this.data.sentDays[i]=!0,this.Storage.requestSet(this.data))}getDateStart(e){return new Date(e.getFullYear(),e.getMonth(),e.getHours()>=0&&e.getHours()<5?e.getDate()-1:e.getDate(),5,0,1)}}function getTodayBlockCount(e,t,o){e.pb_counterBlockedSites.get().then(e=>{let r=(e||{})[t];r&&function isBetweenTimeRange(e){let t=new Date,o=new Date(e[0]),r=new Date(e[1]);return t>=o&&t<r}(r.currentTimeRange)?o(r.todayCount):o(0)})}function copyTextToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}function getBrowser(){return/firefox/i.test(navigator.userAgent)?"FF":"CH"}function getAbsoluteURL(e){return/^about:blank/i.test(e)||/^(https?:)?\/\//.test(e)?e:e=location.origin+(/^\//.test(e)?"":"/")+e}function isI18N(e){return!!chrome.i18n.getMessage(e)}function getI18N(e,t){return chrome.i18n.getMessage(e)||chrome.i18n.getMessage(t||e)||e}function insertBeforeRoot(e){const t=document.head;if(t)t.appendChild(e);else{const t=document.documentElement;t.insertBefore(e,t.firstChild)}}function sendToActiveTab(e,t){chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(o){chrome.tabs.sendMessage(o[0].id,{name:e,data:t||""})}))}function isFireFoxIncognito(e){return new Promise(e=>{if("FF"!=getBrowser())return e(!1);chrome.tabs.query({currentWindow:!0,active:!0},t=>{let o=t[0].id;chrome.tabs.executeScript(o,{code:"isI=chrome.extension.inIncognitoContext; isI;"},t=>chrome.runtime.lastError?e(!1):e(!(!t||!Array.isArray(t))&&t[0]))})})}},function(e,t,o){"use strict";t.a={thank_you_page_CH:"https://poperblocker.com/welcome",thank_you_page_FF:"https://poperblocker.com/welcome-firefox",privacy_policy_CH:"https://poperblocker.com/privacy/",privacy_policy_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",uninstall_page_CH:"https://poperblocker.com/uninstall/?",uninstall_page_FF:"https://poperblocker.com/uninstall-firefox/?",feedback_page:"https://poperblocker.com/feedback.html?from=ext",contact_page:"https://poperblocker.com/contact-form.html",contribute_page:"https://poperblocker.com/contribute?utm_source=Extension_Popup",appStore_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",appStore_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",extension_review_page_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche/reviews",extension_review_page_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",twitter_share_link:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",facebook_share_link:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below",overlay_check_API:"https://api2.poperblocker.com/view/update",overlay_blocking_context_item_contexts:["page","frame","selection","link","editable","image","video","audio"],googleSheetID:"1dRQsmt6DYMXGo3YeTQ442kV-xxG1LJfG41wEUpnWefM",dataSettings:{strKeys:["ga_allEvent_rate","ni"],arrKeys:["blacklist","whitelist"]},blockCountsToShowRate:5,blockCountsToShowRateAgain:100,defaultWhiteList:{sites:[],popups:["disqus.com","engage.wixapps.net","linkedin.com","google","gmail.com","www.pinterest.com","www.youtube.com","www.facebook.com","myh.godaddy.com"]},defaultBlackList:["adrunnr","successforyu.clickfunnels.com","fmovies.se","in-365-tagen.info","5000-settimanale.com","shop.mazzugioielli.com","maxigossip.com","lp.yazizim.com","beyourxfriend.com","99tab.com","zzqrt.com","canuck-method.net","bewomenly.com","playnow.guru","datingforyou-48e1.kxcdn.com","trafficnetworkads24.com","sistemadedinerogratis.com","canuckmethodprofit.co","consumerresearchnetwork.com","securemacfix.com","zz3d3.ru","zd1.quebec-bin.com","hot-games4you.xyz","om.elvenar.com","superpccleanup.com","gomediaz.com","judithi.xyz","free.atozmanuals.com","yoursuccess.ravpage.co.il","123hop.ir","quizcliente.pw","aussiemethod.biz","hlpnowp-c.com","picbumper.com","shaneless.com","anacondamonster.com","altrk1.com","health.todaydiets.com","download.weatherblink.com","happyluketh.com","go.ameinfo.com","50kaweek.net","thepornsurvey.com","ofsiite.ru","fulltab.com","1000spins.com","time2play-online.net","vintacars.com","welcome.pussysaga.com","free-desktop-games.com","download.televisionfanatic.com","theprofitsmaker.net","sgad.info","algocashmaster.net","sunmaker.com","topvipdreams.com","watchmygirlfriend.gfpornvideos.com","filesharefanatic.com","safedownloadhub.com","7awlalalam.blogspot.com","tvplusnewtab.com","trendingpatrol.com","moneymorning.com","ifileyou.com","classifiedcanada.ca","firefan.com","methode-binaire.com","letmetell.com","kenduktur.com","getafuk.com","yotraleplahnte.ru","jackpot.88beto.com","pwwysydh.com","search.queryrouter.com","v.lvztxy.com","pussysaga.com","saffamethod.com","prezzonline.com","searchprivacy.website","3d2819216eb4e1035879-7c248de0c99745406e9b749fc86ec3e4.ssl.cf1.rackcdn.com","only2date.com","mysagagame.com","themillionaireinpjs.net","wlt.kd2244.com","quickprivacycheck.com","hotchatdate.com","autotraderbot.com","z1.zedo.com","youlucky2014.com","traffic.getmyads.com","appcloudprotected.com","safensecure.com-allsites3.xyz","newpoptab.com","static.williamhill.com","myhealthyblog.co","greatestmobideals.com","sweetclarity.com","mgid.com","securepccure.com","autopengebygger.com","am15.net","es.reimageplus.com","o2.promos-info.com","it.reimageplus.com","westsluts.com","spinandwin.com-ser.pw","reimageplus.com","vodafone.promos-info.com","vinnmatpengar.se","movie.ienjoyapps.com","love4single.com","origin.getprice.com.au","ohmydating.com","lp.want-to-win.com","yabuletchrome.ru","bamdad.net","gotositenow.com","vcrypt.pw","newtabtv.com","mon.setsu.xyz","youforgottorenewyourhosting.com","zone-telechargement.ws","land.pckeeper.software","ad.adpop-1.com","advancedpctools.com","videos.randolphcountyheraldtribune.com","web-start.org","softreadynow.installupgradenowfreshandforyou.website","uplod.ws","pornhubcasino.com","maxbet.ro","2016prizefeed.com","thevideo.me","wantubad.com","tavanero.com","xcusmy.club","daclips.in","gaymenofporn.online","jackpotcitycasino.com","italian-method.com","getsearchincognito.com","youjustwonprize.com","finanz-nachrichten.me","quizcliente.site","da.reimageplus.com","jkanime.net","britmoneymethod.com","uae.souq.com","ka.azzer.net","safensecure.xyz","8t.hootingrhejkz.online","www6.blinkx.com","wizzcaster.com","comparaison-prix.com","vodlocker.lol","fr.reimageplus.com","free.fromdoctopdf.com","userscloud.com","myprivatesearch.com","fanli90.cn","tutticodicisconto.it","mediadec.com","gogamego.thewhizproducts.com","download.weatherblink.com","free.videodownloadconverter.com","we-are-gamers.com","sesso.communityadult.net","lp.blpmovies.com","search.queryrouter.com","bbb-johannesburg.localspecific.com","lp.blpmovies.com","go.ppixelm.com","r0.ru","sesso.communityadult.net","bbb-johannesburg.localspecific.com","ppixelm.com","cyberguardianspe.info","we-are-gamers.com","loginfaster.com/new","www.alfacart.com","www.foresee.com","mobile-win.com","www.plusnetwork.com","www.amicafarmacia.com","www.ienjoyapps.com","cheapcheap.io","screenaddict.thewhizproducts.com","nova.rambler.ru","free.gamingwonderland.com","p9328ujeiw1.ru","mobilecasinoclub.co.uk","pfhsystem.com","regtuneup.com","theprofitsmaker.net","bodogpromotions.eu","heroesreplay.org","financialsecrets.info","mymoneymakingapp.com","sunmaker.com","888casino-promotions.com","vogliosesso.com","scienceremix.com","allinonedocs.com","arabia.starzplay.com","allirishcasino.com","advancepctools.info","movie.ienjoyapps.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","b2.ijquery11.com","sporthero.thewhizmarketing.com","securefastmac.tech","seen-on-screen.thewhizmarketing.com","1000spins.com","search.queryrouter.com","pfhsystem.com","reimageplus.com","offer.alibaba.com","searchlistings.org","search.queryrouter.com","search.queryrouter.com","mybinaryoptionsrobot.com","duplicashapp.com","search.queryrouter.com","bestgame.directory","droidclub.net",".rivalo.com","yoursuperprize.com","mediaexplained.com","om.elvenar.com","shinar.club","revitoleczemacream.com","freelotto.com","screenaddict.thewhizproducts.com","download.bringmesports.com/","allinonedocs.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","multtaepyo.com","search.queryrouter.com","czechmethod.com","consumerview.co","wayretail.com","72onbase.com","funsafetab.com","search.queryrouter.com","speedyfiledownload.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","quantomcoding.com","sporthero.thewhizmarketing.com","popads.net","onclkds.com","consumerview.co","12kotov.ru","ruhotpair2.fingta.com","easytelevisionaccessnow.com","ahwrd.com","lpeva.com","ppgzf.com","zjstx.com","kituure.xyz","join.pro-gaming-world.com","mackeeperapp.mackeeper.com","tracknotify.com","2075.cdn.beyondhosting.net","idollash.com","ds.moviegoat.com","fulltab.com","rackcdn.com","prestoris.com","adsterra.com","swampssovuuhusp.top","streesusa.info","freesoftwaredlul.com","adreactor.com","a-static.com","codeonclick.com","heheme.com","adf.ly","seen-on-screen.thewhizmarketing.com","openload.co"]}},,function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return i}));var r=o(0),n=o(2);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,o){return function step(r,n){try{var a=t[r](n),i=a.value}catch(e){return void o(e)}if(!a.done)return Promise.resolve(i).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(i)}("next")}))}}const a={init:({whitelist:e})=>(e&&(e.defaultPopups=n.a.defaultWhiteList.popups),e)},i={init:({userWhitelist:e})=>Object.assign({defaultSites:n.a.defaultWhiteList.sites,defaultPopups:n.a.defaultWhiteList.popups},{version:.1,userDefaultExclude:[],userWhitelist:e}),getDefaultPopups(){return new Promise((e=_asyncToGenerator((function*(e){e((yield r.a.pb_remoteWhitelist.get()).popups)})),function(t){return e.apply(this,arguments)}));var e},get(){return new Promise((e=_asyncToGenerator((function*(e){const{defaultSites:t,userDefaultExclude:o,userWhitelist:n,defaultPopups:a}=yield r.a.pb_whitelistManager.get();e({sites:{def:t.without(o),user:n,all:t.without(o).concat(n)},popups:a})})),function(t){return e.apply(this,arguments)}));var e},addDefaultUserExclude:(...e)=>r.a.pb_whitelistManager.update(t=>{const{userDefaultExclude:o=[]}=t;return t.userDefaultExclude=o.concat(e).unique(),t}),addUserWhitelist:(...e)=>r.a.pb_whitelistManager.update(t=>{const{userWhitelist:o=[]}=t;return t.userWhitelist=o.concat(e).unique(),t}),removeUserWhitelist:(...e)=>r.a.pb_whitelistManager.update(t=>{const{userWhitelist:o=[]}=t;return t.userWhitelist=o.without(e),t})}},function(e,t){Array.prototype.unique||(Array.prototype.unique=function(){const e={};return this.forEach(t=>{e[t]=1}),Object.keys(e)}),Array.prototype.without||(Array.prototype.without=function(e){return this.filter(t=>!e.includes(t))}),Array.prototype.remove||(Array.prototype.remove=function(e){this.splice(this.indexOf(e),1)}),Array.prototype.contains||(Array.prototype.contains=function(e){return this.includes(e)}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return this.lastIndexOf(e)+e.length===this.length-1})},function(e,t,o){"use strict";o.r(t);o(5);var r=o(0),n=o(4),a=o(1),i=o(2);const create_list=e=>{const t=/^((https?|ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;let o="";e.tag&&(o=e.tag),o+="Box";const r=e.tag+"List";let i=[];e.storageListKey,e.saver,e.loader;const s=(c=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,o){return function step(r,n){try{var a=t[r](n),i=a.value}catch(e){return void o(e)}if(!a.done)return Promise.resolve(i).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(i)}("next")}))}}((function*(){const e=$("#"+o).val();$("#"+o).val("").next().prop("disabled",!0);let r="whiteListBox"==o?"Whitelist_add":"Blacklist_add";if(function validateUrl(e){return t.test(e)}(e)){const t=e.replace("http://","").replace("https://","").split("/")[0];if(t.length>0){const e=yield n.a.get();Object(a.l)(t,e.sites.user)?showErrorAndRestore($("#"+o),"OP_urlExistsInList","OP_whitelist"):(i.push(t),renderList(),n.a.addUserWhitelist(t),$("#"+o).val(""),sendGoogleAnalyticsEvent(r,t))}}else showErrorAndRestore($("#"+o),"urlNotValid","")})),function s(){return c.apply(this,arguments)});var c;const remove=function(e){let t=$(this).parent().find(".domain").text().trim(),r="whiteListBox"==o?"Whitelist_removed":"Blacklist_removed",a=i.indexOf(t),s=i.splice(a,1).join();sendGoogleAnalyticsEvent(r,s),renderList(),n.a.removeUserWhitelist(s)};function showErrorAndRestore(e,t,o){e.val("").attr("placeholder",Object(a.g)(t).replace("%s",Object(a.g)(o))),setTimeout(()=>{e.attr("placeholder",Object(a.g)("urlExamplePlaceholder"))},2e3)}function renderList(){$("#"+r).html($.map(i,e=>`<div class='list-group-item'><img class='favicon' src='http://www.google.com/s2/favicons?domain=${e}'><span class="domain">${e} </span><span class='removeButton${r} glyphicon glyphicon-remove'></span></div>`).join(""))}return function init(){$("#"+o).keyup((function(e){let t=$(this),o=t.next();13==e.which&&s(),t.val()?o.prop("disabled",!1):o.prop("disabled",!0)})),$("#"+o).next().click((function(e){s()})),$("#"+r).on("click",".removeButton"+r,remove),n.a.get().then(e=>{i=e.sites.user.unique(),renderList()})}()};class overlayBlockList{constructor(){this.items=[],this.createItems()}createItems(){r.a.pb_overlayBlockedList.get().then((e={})=>{Object.values(e).forEach(e=>{this.items.push(...e)}),this.createList(this.items)})}removeItem(e){r.a.pb_overlayBlockedList.update((t={})=>{let o=e.domain,r=(t[o]||[]).filter(t=>t.id!=e.id);return r.length?t[o]=r:delete t[o],t})}parse(e){let t=new URL(e.url);t.origin,t.href.replace(/\/$/,"");return{id:e.id,domain:t.host,url:t.href}}createList(e){let t=$("#blackListList");e.length&&t.parent().show(),e.forEach(e=>{let o=$(`<div class='list-group-item'><img class='favicon' src='http://www.google.com/s2/favicons?domain=${e.domain}'><span class="domain">${e.domain} (found on ${e.url})</span><span class='remove glyphicon glyphicon-remove'></span></div>`);o.on("click",".remove",t=>{o.remove(),this.removeItem(e)}).appendTo(t)})}}function rateUs(){sendGoogleAnalyticsEvent("Link_press","Rate"),chrome.tabs.create({url:i.a["extension_review_page_"+Object(a.f)()]})}function bugFeedback(){sendGoogleAnalyticsEvent("Link_press","Report"),function feedback(e){const t=i.a.feedback_page+`&subject=${e?encodeURI(e):""}&message=`;chrome.tabs.create({url:t})}("Report bug")}function emailFeedback(){sendGoogleAnalyticsEvent("Link_press","Email_us"),function contactForm(){chrome.tabs.create({url:i.a.contact_page})}()}function sendGoogleAnalyticsEvent(e,t){chrome.runtime.sendMessage({name:"trackEvent",category:"Options_menu",action:e,label:t})}function setCheckStatus(e){e.each((e,t)=>{let o=$(t).parent(".checboxLabel"),r=$(t).prop("checked");o.toggleClass("active",r)})}$(document).ready(()=>{sendGoogleAnalyticsEvent("Shown"),create_list({tag:"whiteList",storageListKey:"pb_whitelist"}),$("#overlay-message").html(Object(a.i)(Object(a.g)("overlaysEnableMessage"))),new overlayBlockList,r.a.many(r.a.pb_hideBadge,r.a.pb_hideNotifications,r.a.pb_detectOverlays,r.a.pb_numOfBlocks,r.a.pb_disableContextMenu).get().then(e=>{e.pb_hideBadge||$("#badgeToggle").prop("checked",!0),e.pb_hideNotifications||$("#notificationToggle").prop("checked",!0),$("#overlaysToggle").prop("checked",e.pb_detectOverlays),$("#overlayContextMenuToggle").prop("checked",!e.pb_disableContextMenu),$("#count").html(e.pb_numOfBlocks+" popups blocked"),setCheckStatus($("input[type='checkbox']"))}),$("[data-translate]").each((function(){$(this).html(Object(a.g)($(this).data("translate")))})),$("#badgeToggle").change(()=>{let e=$("#badgeToggle").prop("checked");chrome.runtime.sendMessage({name:"badgeToggle",show:e}),sendGoogleAnalyticsEvent("Show_a_badge",e?"checked":"unchecked")}),$("#notificationToggle").change(()=>{let e=$("#notificationToggle").prop("checked");r.a.pb_hideNotifications.set(!e),sendGoogleAnalyticsEvent("Show_on_page_notification",e?"checked":"unchecked")}),$("#overlaysToggle").change(()=>{const e=$("#overlaysToggle").prop("checked");sendGoogleAnalyticsEvent("Enable_overlay_blocking",e?"checked":"unchecked"),chrome.runtime.sendMessage({name:"optionsPage",pb_detectOverlays:e}),r.a.pb_detectOverlays.set(e)}),$("#overlayContextMenuToggle").change(()=>{const e=!$("#overlayContextMenuToggle").prop("checked");sendGoogleAnalyticsEvent("Enable_overlay_blocking_menu",e?"unchecked":"checked"),chrome.runtime.sendMessage({name:"optionsPage",pb_disableContextMenu:e}),r.a.pb_disableContextMenu.set(e)}),$("#rate-options").on("click",rateUs),$("#bugreport-options").on("click",bugFeedback),$("#support-options").on("click",emailFeedback),$("body").on("change","input[type='checkbox']",(function(){setCheckStatus($(this))}));chrome.extension.inIncognitoContext&&($("#overlay-panel").append("<div class='overlay_block'>Overlay blocking isn't supported in Firefox private mode</div>"),$("#overlaysToggle").prop("disabled","true"),$("#overlayContextMenuToggle").prop("disabled","true"))})}]);